<!doctype html>
<html lang="en" xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout">
<body>

<!-- Dropdown Menu Button Using BS with custom css (use in header-menu!) -->
<div layout:fragment="dropdown-menu (name)" class="dropdown">
  <button class="dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false"
          data-bs-offset="auto, 0" th:text="${name}"></button>
  <div class="dropdown-menu dropdown-menu-end" layout:fragment="dropdown-links">
    <!--
        "You Can Use This link if link is not for link"
        <a th:href="@{/}" class="dropdown-item" type="button">Home</a>

        "This is for divider"
        <hr class="dropdown-divider">
    -->
  </div>
</div>

<!-- Dropdown Link  -->
<a th:fragment="link (name, href)"
   th:classappend="${name == page ? 'side_bar-menu-active' : ''}" class="dropdown-item"
   th:href="@{${href}}"
   th:text="${name}"/>

<!-- End of Dropdown Menu -->

<!-- Modal Box -->
<div layout:fragment="modal-box (id,name,type)" class="">
  <div class="modal fade"
       th:id="${id}" tabindex="-1" aria-labelledby="Modal Box" aria-hidden="true">

    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header"
             th:classappend="|${type == 'success'? 'success-color' : 'primary-color'}
                                ${type == 'danger'? 'danger-color' : 'primary-color'}
                                ${type == 'secondary'? 'secondary-color' : 'primary-color'}|">
          <p class="modal-title" th:text="${name}">Modal title</p>
          <div>
            <img th:src="@{/images/icon/cross-white.svg}" class="icon"
                 data-bs-dismiss="modal"
                 alt="Close Button">
          </div>
        </div>
        <div layout:fragment="modal-body-and-footer" th:remove="tag">

        </div>
      </div>
    </div>

  </div>
</div>
<!-- Modal Usage -->
<!--<a id="delete-btn" class="data-table-action"
   data-bs-toggle="modal" data-bs-target="#deleteModal">
    <img src="/images/icon/trash.svg" alt="delete">
</a>
&lt;!&ndash; Hidden Modal Box &ndash;&gt;
<div
        layout:include="~{fragments/fragments :: modal-box (id = 'deleteModal',name = 'Confirmation', type = 'secondary')}">
    <div layout:fragment="modal-body-and-footer">
        <input type="hidden" id="deleteId" name="id">
        <div class="modal-body">
            Are you sure you want to delete this?
        </div>
        <div class="modal-footer">
            <button type="button" class="text-btn" data-bs-dismiss="modal">Close</button>
            <button type="button" class="danger-btn" onclick="deleteAgent()">Delete</button>
        </div>
    </div>
</div>-->

<!-- For Toast -->
<div layout:fragment="toast (toastId, showToast )">
  <div class="toast-container position-fixed bottom-0 end-0 p-3">
    <div th:id="${toastId}" class="toast" role="alert"
         aria-live="assertive"
         aria-atomic="true"
         layout:fragment="toast-header-body">

    </div>
  </div>
  <script th:inline="javascript">
      $(document).ready(function () {
          const showToast = [[${showToast}]]
          let toastId = [[${toastId}]].toString()
          const toastLiveExample = document.getElementById(toastId)

          if (showToast) {
              const toastBootstrap = bootstrap.Toast.getOrCreateInstance(toastLiveExample, {
                  delay: 3000
              })
              toastBootstrap.show()
          }
      });
  </script>
</div>
<!-- Toast Usage -->
<!--<div layout:include="~{fragments/fragments :: toast (toastId='egToast', showToast=${true} )}">
    <div layout:fragment="toast-header-body">
        <div class="toast-body toast-success">
            <img src="/images/icon/check-badge.svg" alt="success">
            Successfully!!
        </div>
    </div>
</div>-->

<!-- For Sorting Icon-->
<span th:fragment="sort-asc-icon" class="ascending-icon d-flex">
    <!-- arrow up -->
    <svg xmlns='http://www.w3.org/2000/svg' stroke="" viewBox='0 0 24 24'
         fill='#331D2C'
         width='14'
         height='14'>
        <path
            d="M3 19h18a1.002 1.002 0 0 0 .823-1.569l-9-13c-.373-.539-1.271-.539-1.645 0l-9 13A.999.999 0 0 0 3 19z"></path>
    </svg>
  <!-- arrow down-->
    <svg xmlns='http://www.w3.org/2000/svg' stroke="#000" viewBox='0 0 24 24'
         fill='transparent'
         width='14'
         height='14'>
        <path
            d="M11.178 19.569a.998.998 0 0 0 1.644 0l9-13A.999.999 0 0 0 21 5H3a1.002 1.002 0 0 0-.822 1.569l9 13z"></path>
    </svg>
</span>
<span th:fragment="sort-desc-icon" class="descending-icon d-flex">
    <!-- arrow up -->
    <svg xmlns='http://www.w3.org/2000/svg' stroke="#000" viewBox='0 0 24 24'
         fill='transparent'
         width='14'
         height='14'>
        <path
            d="M3 19h18a1.002 1.002 0 0 0 .823-1.569l-9-13c-.373-.539-1.271-.539-1.645 0l-9 13A.999.999 0 0 0 3 19z"></path>
    </svg>
  <!-- arrow down-->
    <svg xmlns='http://www.w3.org/2000/svg' stroke="" viewBox='0 0 24 24'
         fill='#331D2C'
         width='14'
         height='14'>
        <path
            d="M11.178 19.569a.998.998 0 0 0 1.644 0l9-13A.999.999 0 0 0 21 5H3a1.002 1.002 0 0 0-.822 1.569l9 13z"></path>
    </svg>
</span>

<!-- For Input box -->
<div th:fragment="input-box(name, id, type, field, disable, require)" class="form-group">
  <label th:for="${id}">[[${name}]] <span th:if="${require}" class="required-field">*</span></label>
  <th:block th:switch="${type}">
    <input th:case="text" type="text" class="form-input" th:id="${id}" th:field="*{__${field}__}"
           autocomplete="off" th:disabled="${disable}" th:required="${require}">
    <input th:case="number" type="number" class="form-input" th:id="${id}"
           th:field="*{__${field}__}"
           autocomplete="off" th:disabled="${disable}" th:required="${require}">
    <input th:case="email" type="email" class="form-input" th:id="${id}" th:field="*{__${field}__}"
           autocomplete="off" th:disabled="${disable}" th:required="${require}">
    <input th:case="date" type="date" class="form-input" th:id="${id}" th:field="*{{__${field}__}}"
           th:disabled="${disable}" th:required="${require}">
    <input th:case="file" type="file" class="form-input" th:id="${id}" th:field="*{__${field}__}"
           th:disabled="${disable}" th:required="${require}">
    <textarea th:case="textarea" class="form-input" th:id="${id}" th:field="*{__${field}__}"
              th:disabled="${disable}" th:required="${require}"></textarea>
  </th:block>
  <span class="error-desc" th:errors="*{__${field}__}"></span>
</div>

<div th:fragment="select-box(name, list, id, field, disable, require)" class="form-group">
  <label th:for="${id}">[[${name}]] <span th:if="${require}" class="required-field">*</span></label>
  <select th:id="${id}" th:field="*{__${field}__}" class="form-input"
          th:disabled="${disable}" th:required="${require}">
    <option value="">Select One</option>
    <option th:each="obj : ${list}" th:value="${obj.name()}" th:text="${obj.name()}"></option>
  </select>
  <span class="error-desc" th:errors="*{__${field}__}"></span>
</div>

<!-- For Image Preview -->
<div class="form-group" th:fragment="image-preview(id)">
  <img class="profile-pic_img" id="image-preview"
       src="#" alt="Preview">
  <script th:inline="javascript">
      let previewImg = document.getElementById("image-preview")
      previewImg.classList.add("d-none")

      const imageInput = [[${id}]]

      document.getElementById(imageInput).addEventListener('change', event => {
          previewImg.classList.remove("d-none")
          let imgUrl = URL.createObjectURL(event.target.files[0]);
          previewImg.setAttribute('src', imgUrl);
      })
  </script>
</div>


<div th:fragment="list-size" class="action-list-size">
  <label for="list-size" class="text-nowrap">List Size:</label>
  <select id="list-size" class="form-input">
    <option value="10">10</option>
    <option value="25">25</option>
    <option value="50">50</option>
    <option value="50">50</option>
    <option value="100">100</option>
  </select>
</div>

<div th:fragment="table-footer" id="table-footer" class="table-footer">
  <div>Info</div>
  <div class="pagination">Pagination</div>
</div>

</body>
</html>